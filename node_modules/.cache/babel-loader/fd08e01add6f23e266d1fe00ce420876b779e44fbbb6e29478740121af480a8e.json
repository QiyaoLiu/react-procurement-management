{"ast":null,"code":"import axios from \"axios\";\nconst baseUrl = \"/api\";\nclass HttpRequest {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n  getInsideConfig() {\n    const config = {\n      baseUrl: this.baseUrl,\n      headers: {}\n    };\n    return config;\n  }\n  intercept(instance) {\n    // Add a request interceptor\n    instance.interceptors.request.use(config => {\n      // Add the token to headers before request is sent\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Token\"] = token; // Set the token header\n      }\n      return config;\n    }, error => {\n      // Do something with request error\n      return Promise.reject(error);\n    });\n\n    // Add a response interceptor\n    instance.interceptors.response.use(response => {\n      // Any status code that lie within the range of 2xx cause this function to trigger\n      // Do something with response data\n      return response;\n    }, error => {\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\n      // Do something with response error\n      return Promise.reject(error);\n    });\n  }\n  request(options) {\n    options = {\n      ...this.getInsideConfig(),\n      ...options\n    };\n    const instance = axios.create();\n    this.intercept(instance);\n    return instance(options);\n  }\n}\nexport default new HttpRequest(baseUrl);","map":{"version":3,"names":["axios","baseUrl","HttpRequest","constructor","getInsideConfig","config","headers","intercept","instance","interceptors","request","use","token","localStorage","getItem","error","Promise","reject","response","options","create"],"sources":["/Users/liu/Library/CloudStorage/Dropbox/Projects/procurement-management/src/api/axios.js"],"sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/api\";\n\nclass HttpRequest {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n  getInsideConfig() {\n    const config = {\n      baseUrl: this.baseUrl,\n      headers: {},\n    };\n    return config;\n  }\n\n  intercept(instance) {\n    // Add a request interceptor\n    instance.interceptors.request.use(\n      (config) => {\n        // Add the token to headers before request is sent\n        const token = localStorage.getItem(\"token\");\n        if (token) {\n          config.headers[\"Token\"] = token; // Set the token header\n        }\n        return config;\n      },\n      (error) => {\n        // Do something with request error\n        return Promise.reject(error);\n      }\n    );\n\n    // Add a response interceptor\n    instance.interceptors.response.use(\n      (response) => {\n        // Any status code that lie within the range of 2xx cause this function to trigger\n        // Do something with response data\n        return response;\n      },\n      (error) => {\n        // Any status codes that falls outside the range of 2xx cause this function to trigger\n        // Do something with response error\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  request(options) {\n    options = { ...this.getInsideConfig(), ...options };\n    const instance = axios.create();\n\n    this.intercept(instance);\n\n    return instance(options);\n  }\n}\nexport default new HttpRequest(baseUrl);\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,MAAM;AAEtB,MAAMC,WAAW,CAAC;EAChBC,WAAWA,CAACF,OAAO,EAAE;IACnB,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB;EACAG,eAAeA,CAAA,EAAG;IAChB,MAAMC,MAAM,GAAG;MACbJ,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBK,OAAO,EAAE,CAAC;IACZ,CAAC;IACD,OAAOD,MAAM;EACf;EAEAE,SAASA,CAACC,QAAQ,EAAE;IAClB;IACAA,QAAQ,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9BN,MAAM,IAAK;MACV;MACA,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAIF,KAAK,EAAE;QACTP,MAAM,CAACC,OAAO,CAAC,OAAO,CAAC,GAAGM,KAAK,CAAC,CAAC;MACnC;MACA,OAAOP,MAAM;IACf,CAAC,EACAU,KAAK,IAAK;MACT;MACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;IAC9B,CACF,CAAC;;IAED;IACAP,QAAQ,CAACC,YAAY,CAACS,QAAQ,CAACP,GAAG,CAC/BO,QAAQ,IAAK;MACZ;MACA;MACA,OAAOA,QAAQ;IACjB,CAAC,EACAH,KAAK,IAAK;MACT;MACA;MACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;IAC9B,CACF,CAAC;EACH;EAEAL,OAAOA,CAACS,OAAO,EAAE;IACfA,OAAO,GAAG;MAAE,GAAG,IAAI,CAACf,eAAe,CAAC,CAAC;MAAE,GAAGe;IAAQ,CAAC;IACnD,MAAMX,QAAQ,GAAGR,KAAK,CAACoB,MAAM,CAAC,CAAC;IAE/B,IAAI,CAACb,SAAS,CAACC,QAAQ,CAAC;IAExB,OAAOA,QAAQ,CAACW,OAAO,CAAC;EAC1B;AACF;AACA,eAAe,IAAIjB,WAAW,CAACD,OAAO,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}